<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="template/modelo.xhtml">
        <ui:define name="content">
            <div class="ui segment">
                <h2 class="ui dividing header">Cadastro</h2>
                <br/>
                <div class="ui grid"> 
                    <div class="ui basic container segment">

                        <h:form class="ui form" id="formCadastro" >
                            #{usuarioBean.inicializarUsuario()}

                            <div class="field" id="campoNome">
                                <label>Nome</label>
                                <p:inputText id="nome" value="#{usuarioBean.novoUsuario.nome}" 
                                             label="Nome" pt:placeholder="Informe seu nome" required="true"  validatorMessage="Campo inválido">
                                    <f:validateLength minimum="5" maximum="60"/>
                                    <p:clientValidator event="keyup"/>
                                </p:inputText>
                                <p:watermark for="nome" value="Nome" />
                                <p:message for="nome"/>
                            </div>


                            <div class="field" id="campoSexo">
                                <label>Sexo</label>
                                <h:selectOneMenu  value="#{usuarioBean.novoUsuario.sexo}" 
                                                  styleClass="ui search dropdown" id="sSexo" required="true" requiredMessage="Campo inválido">
                                    <f:selectItem itemValue="" itemLabel="Selecione" />
                                    <f:selectItem itemValue="F" itemLabel="Feminino"/>
                                    <f:selectItem itemValue="M" itemLabel="Masculino"/>
                                </h:selectOneMenu>
                            </div>

                            <div class="field" id="campoDtNascimento">
                                <h:outputLabel for="dtNascimento" value="Data de Nascimento" />                 
                                <p:inputText id="dtNascimento" value="#{usuarioBean.novoUsuario.dtNascimento}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </p:inputText>
                                <p:message for="dtNascimento" />
                            </div>
                            <div class="field" id="campoCpf">
                                <label>CPF</label>
                                <p:inputText value="#{usuarioBean.novoUsuario.cpf}" 
                                             id="cpf" styleClass="cpf" 
                                             validatorMessage="CPF inválido">
                                    <f:validateRegex pattern="^([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$"/>
                                    <p:clientValidator event="keyup"/>
                                </p:inputText>
                                <p:watermark for="cpf" value="CPF" />
                                <p:message for="cpf"/>
                            </div>

                            <div class="field" id="campoContato">
                                <label>Contato</label>
                                <p:inputText value="#{usuarioBean.novoUsuario.telefone}" id="telefone" styleClass="telefone" pt:placeholder="Insira apenas números" />
                            </div>

                            <div class="field" id="campoEmail">
                                <label>Email</label>
                                <p:inputText id="email" value="#{usuarioBean.novoUsuario.email}" 
                                             pt:placeholder="Informe o seu email"
                                             validatorMessage="Email inválido">
                                    <f:validateRegex
                                        pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    <p:clientValidator event="keyup"/>
                                </p:inputText>
                                <p:watermark for="email" value="Email" />
                                <p:message for="email"/>
                            </div>

                            <div class="two fields">
                                <div class="field" id="campoSenha">
                                    <label>Senha</label>
                                    <!--<input type="password" name="senha"/>-->
                                    <p:password id="senha" value="#{usuarioBean.novoUsuario.senha}" pt:placeholder="Informe a sua senha" required="true"/>
                                </div>

                                <div class="field" id="campoCsenha">
                                    <label>Confirme sua senha</label>
                                    <p:password id="cSenha" pt:placeholder="Confirme sua senha" required="true"/>
                                </div>
                            </div>

                            <p:commandButton action="#{usuarioBean.cadastrarUsuario()}" 
                                             styleClass="ui primary button addUser"
                                             value="Cadastrar" 
                                             validateClient="true"
                                             >
                                <f:ajax execute="@this" render="@none" />
                            </p:commandButton>
                        </h:form>
                    </div>
                </div>
            </div>
            <br/>
            <br/> 
            <br/>
            <br/>
        </ui:define>        
    </ui:composition>
</html>

